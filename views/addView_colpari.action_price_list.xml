<?xml version="1.0"?>
<odoo>
  <data>
    <!-- colpari.action_price_rule list -->
    <record id="action_price_rule_tree" model="ir.ui.view">
      <field name="name">colpari.action_price_rule.tree</field>
      <field name="model">colpari.action_price_rule</field>
      <field name="groups_id" eval="[(4, ref('colpari_services.group_colpari_user'))]"/>
      <field name="arch" type="xml">
        <tree string="action_price_rules" sample="1">
          <field name="list_position" optional="hide"/>
          <field name="name" />

          <field name="action_unit" />
          <field name="action_types_operator"  />
          <field name="action_types" widget="many2many_tags" />
          <field name="skills_operator"  />
          <field name="skills" widget="many2many_tags" />

          <field name="executing_partner_roles" widget="many2many_tags"/>
          <field name="indicator_targets" widget="many2many_tags"/>
          <field name="pricing_subject"/>
          <field name="value" />
          <field name="accounted_partner_roles" widget="many2many_tags"/>
          <field name="product" />
          <field name="invoice_string" optional="hide"/>
          <field name="price_list" optional="hide" />
          <field name="currency_id" invisible="1" />
        </tree>
      </field>
    </record>


    <!-- action for colpari.action_price_rule list-->
    <record model="ir.actions.act_window" id="act_action_price_rules_window">
      <field name="name">colpari price rules</field>
      <field name="res_model">colpari.action_price_rule</field>
      <field name="view_mode">tree,kanban,form</field>
    </record>


    <!-- colpari.action_price_rule form -->
    <record id="action_price_rule_form" model="ir.ui.view">
      <field name="name">colpari.action_price_rule.form</field>
      <field name="model">colpari.action_price_rule</field>
      <field name="groups_id" eval="[(4, ref('colpari_services.group_colpari_user'))]"/>
      <field name="arch" type="xml">
        <form>
          <header>
            <button type="object" name="toggle_active" string="Archive" attrs="{'invisible': [('active', '=', False)]}"/>
            <button type="object" name="toggle_active" string="Restore" attrs="{'invisible': [('active', '=', True)]}"/>
          </header>
          <sheet string="deineMama">
            <group>
              <field name="list_position" />
              <field name="name" />

              <field name="action_unit" />
              <field name="action_types_operator"  />
              <field name="action_types" widget="many2many_tags" />

              <field name="skills_operator"  />
              <field name="skills" widget="many2many_tags" />

              <field name="executing_partner_roles" widget="many2many_tags" />
              <field name="indicator_targets" /> <!-- widget="many2many_tags" -->
              <field name="pricing_subject"/>
              <field name="value" />
              <field name="accounted_partner_roles" widget="many2many_tags"/>
              <field name="product" />
              <field name="invoice_string" />
              <field name="currency_id" invisible="1" />
              <field name="active" invisible="1" />
            </group>
          </sheet>
        </form>
      </field>
    </record>

    <!-- colpari.action_price_rule search -->
    <record id="action_price_rule_search" model="ir.ui.view">
      <field name="name">colpari.action_price_rule.search</field>
      <field name="model">colpari.action_price_rule</field>
      <field name="groups_id" eval="[(4, ref('colpari_services.group_colpari_user'))]"/>
      <field name="arch" type="xml">
        <search>
          <field name="name" string="Name"/>
          <field name="action_types" string="Action type"/>
          <field name="action_unit" string="Action unit"/>
          <field name="skills" string="Action type"/>
          <field name="executing_partner_roles" string="Executing roles"/>
          <field name="accounted_partner_roles" string="Accounted roles"/>
          <field name="product" string="Product"/>
          <field name="price_list" string="Price list"/>

          <filter name="active" string="Active" domain="[('active', '=', True)]"/>
          <filter name="inactive" string="Archived" domain="[('active', '=', False)]"/>

          <group expand="0" string="Group By">
              <filter name="action_types" string="Action type" domain="[]" context="{'group_by': 'action_types'}"/>
              <filter name="action_unit" string="Action unit" domain="[]" context="{'group_by': 'action_unit'}"/>
              <filter name="skills" string="Action type" domain="[]" context="{'group_by': 'skills'}"/>
              <filter name="product" string="Product" domain="[]" context="{'group_by': 'product'}"/>
          </group>
<!--           <searchpanel>
            <field name="parent_id" icon="fa-users" enable_counters="1" select="one" hierarchize="true"/>
          </searchpanel> -->
        </search>
      </field>
    </record>







    <!-- colpari.action_price_list list -->
    <record id="action_price_list_tree" model="ir.ui.view">
      <field name="name">colpari.action_price_list.tree</field>
      <field name="model">colpari.action_price_list</field>
      <field name="groups_id" eval="[(4, ref('colpari_services.group_colpari_user'))]"/>
      <field name="arch" type="xml">
        <tree string="action_price_lists" sample="1">
          <field name="name" />
          <field name="currency_id" />
          <field name="isPartnerPriceList" />
          <field name="used_in_projects" widget="many2many_tags" />
        </tree>
      </field>
    </record>


    <!-- colpari.action_price_list search -->
    <record id="action_price_list_search" model="ir.ui.view">
      <field name="name">colpari.action_price_list.search</field>
      <field name="model">colpari.action_price_list</field>
      <field name="groups_id" eval="[(4, ref('colpari_services.group_colpari_user'))]"/>
      <field name="arch" type="xml">
        <search>
          <field name="name" string="Name"/>
          <field name="isPartnerPriceList" string="Is partner price list"/>
          <field name="used_in_projects" string="Projects"/>

          <filter name="partnerLists" string="Is partner price list" domain="[('isPartnerPriceList', '=', True)]"/>
          <filter name="clientLists" string="Is client price list" domain="[('isPartnerPriceList', '=', False)]"/>
          <filter name="active" string="Active" domain="[('active', '=', True)]"/>
          <filter name="inactive" string="Archived" domain="[('active', '=', False)]"/>

          <group expand="0" string="Group By">
              <filter name="isPartnerPriceList" string="Is partner price list" domain="[]" context="{'group_by': 'isPartnerPriceList'}"/>
          </group>
<!--           <searchpanel>
            <field name="parent_id" icon="fa-users" enable_counters="1" select="one" hierarchize="true"/>
          </searchpanel> -->
        </search>
      </field>
    </record>

    <!-- colpari.action_price_list form -->
    <record id="action_price_list_form" model="ir.ui.view">
      <field name="name">colpari.action_price_list.form</field>
      <field name="model">colpari.action_price_list</field>
      <field name="groups_id" eval="[(4, ref('colpari_services.group_colpari_user'))]"/>
      <field name="arch" type="xml">
        <form>
          <header>
            <button type="object" name="toggle_active" string="Archive" attrs="{'invisible': [('active', '=', False)]}"/>
            <button type="object" name="toggle_active" string="Restore" attrs="{'invisible': [('active', '=', True)]}"/>
          </header>
          <group>
            <field name="name" />
            <field name="currency_id" />
            <field name="isPartnerPriceList" />
            <field name="used_acc_in_projects" widget="many2many_tags" />
            <field name="used_comp_in_projects" widget="many2many_tags" />
            <field name="entries" context="{'default_price_list' : active_id}" />
            <field name="active" invisible="1" />
          </group>
        </form>
      </field>
    </record>

    <!-- action for colpari.action_price_list list-->
    <record model="ir.actions.act_window" id="act_action_price_lists_window">
      <field name="name">colpari price lists</field>
      <field name="res_model">colpari.action_price_list</field>
      <field name="view_mode">tree,kanban,form</field>
    </record>
  </data>

</odoo>