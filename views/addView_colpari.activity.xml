<?xml version="1.0"?>
<odoo>
  <data>
    <!-- activities list -->
    <record id="activities_tree" model="ir.ui.view">
      <field name="name">colpari.activities.tree</field>
      <field name="model">colpari.activity</field>
      <field name="groups_id" eval="[(4, ref('colpari_services.group_colpari_user'))]"/>
      <field name="arch" type="xml">
        <tree string="Activities" sample="1"> <!-- editable="bottom" delete="1" multi_edit="0" edit="0" -->
          <field name="activity_time_of_day_hour" optional="hide" />
          <field name="activity_time_of_day_minute" optional="hide" />
          <field name="activity_time" />
          <field name="partner_id" />
          <field name="project_id" />
          <field name="action_types" widget="many2many_tags" />
          <field name="action_unit" />
          <field name="skills" widget="many2many_tags" optional="hide" />
          <field name="quantity" />
          <field name="activity_origin" />
        </tree>
      </field>
    </record>

    <!-- activities pivot -->
    <record id="activities_pivot" model="ir.ui.view">
      <field name="name">colpari.activities.pivot</field>
      <field name="model">colpari.activity</field>
      <field name="groups_id" eval="[(4, ref('colpari_services.group_colpari_user'))]"/>
      <field name="arch" type="xml">
        <pivot string="Activities" sample="1">
          <field name="activity_time_of_day_hour" optional="hide" />
          <field name="activity_time_of_day_minute" optional="hide" />
          <field name="activity_time" />
          <field name="partner_id" />
          <field name="project_id" />
          <field name="action_types" />
          <field name="action_unit" />
          <field name="skills" />
          <field name="quantity" />
          <field name="activity_origin" />
        </pivot>
      </field>
    </record>

    <!-- activities form -->
    <record id="activities_form" model="ir.ui.view">
      <field name="name">colpari.activities.form</field>
      <field name="model">colpari.activity</field>
      <field name="groups_id" eval="[(4, ref('colpari_services.group_colpari_user'))]"/>
      <field name="arch" type="xml">
        <form>
          <!-- <sheet> -->
            <h1>Activity</h1>
            <group col="2">
              <field name="activity_time" />
              <field name="partner_id" />
              <field name="project_id" />
              <field name="action_types" widget="many2many_tags" />
              <field name="action_unit" />
              <field name="skills" widget="many2many_tags" />
              <field name="quantity" />
              <field name="activity_origin" />
            </group>
            <group>
              <field name="client_payments" />
              <field name="partner_payments" />
            </group>
          <!-- </sheet> -->
        </form>
      </field>
    </record>

    <!-- activities search -->
    <record id="activities_search" model="ir.ui.view">
      <field name="name">colpari.activities.search</field>
      <field name="model">colpari.activity</field>
      <field name="groups_id" eval="[(4, ref('colpari_services.group_colpari_user'))]"/>
      <field name="arch" type="xml">
        <search string="colpari Activities">
          <field name="activity_time" string="Time" />
          <field name="activity_time_of_day_hour" string="Hour" />
          <field name="activity_time_of_day_minute" string="Minute" />
          <field name="project_id" />
          <field name="partner_id" />
          <field name="action_types" />
          <field name="action_unit" />
          <field name="skills" />
          <field name="activity_origin" />
          <filter name="activity_time" date="activity_time" />
          <group expand="0" string="Group By">
              <filter name="activity_time" context="{'group_by': 'activity_time'}"/>
              <filter name="project_id" context="{'group_by': 'project_id'}"/>
              <filter name="partner_id" context="{'group_by': 'partner_id'}"/>
              <filter name="action_types" string="Action types" domain="[]" context="{'group_by': 'action_types'}"/>
              <filter name="action_unit" string="Action unit" domain="[]" context="{'group_by': 'action_unit'}"/>
              <filter name="skills" string="Skills" domain="[]" context="{'group_by': 'skills'}"/>
              <filter name="activity_origin" string="Activity origin" domain="[]" context="{'group_by': 'activity_origin'}"/>
          </group>
          <!-- <searchpanel>
            <field name="project_id" icon="fa-users" enable_counters="1" select="one" hierarchize="true"/>
          </searchpanel> -->
        </search>
      </field>
    </record>

    <!-- action for activities list-->
    <record model="ir.actions.act_window" id="act_activities_window">
      <!-- <field name="name">colpari activitüüs</field> -->
      <field name="res_model">colpari.activity</field>
      <field name="view_mode">pivot,tree,kanban,form</field>
      <field name="view_id" ref="activities_pivot"/>
      <field name="search_view_id" ref="activities_search"/>
      <!-- <field name="context">{'default_is_colpari_client':True, 'default_is_colpari_partner':False, 'search_default_clients':1}</field> -->
    </record>
  </data>
</odoo>