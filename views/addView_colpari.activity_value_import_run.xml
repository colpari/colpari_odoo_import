<?xml version="1.0"?>
<odoo>
  <data>
    <!-- colpari.activity_value_import_run list -->
    <record id="activity_value_import_run_tree" model="ir.ui.view">
      <field name="name">activity_value_import_run_tree</field>
      <field name="model">colpari.activity_value_import_run</field>
      <field name="groups_id" eval="[(4, ref('colpari_services.group_colpari_user'))]"/>      
      <field name="arch" type="xml">
        <tree string="Import runs" sample="1" create="false" edit="false"
          decoration-warning="result_state == 'warn'"
          decoration-success="result_state == 'ok'"
          decoration-danger="result_state == 'fail'"
        >
          <field name="import_ref" widget="reference" />
          <field name="import_run_time" />
          <field name="result_state"/>
          <field name="activities_total" />
          <field name="activities_new" />
        </tree>
      </field>
    </record>

    <!-- colpari.activity_value_import_run form -->
    <record id="activity_value_import_run_form" model="ir.ui.view">
      <field name="name">activity_value_import_run_form</field>
      <field name="model">colpari.activity_value_import_run</field>
      <field name="groups_id" eval="[(4, ref('colpari_services.group_colpari_user'))]"/>      
      <field name="arch" type="xml">
        <form>
          <sheet>
            <h1>Import run</h1>
            <group>
                <field name="import_ref" widget="reference" readonly="True" />
                <field name="import_run_time" />
                <field name="result_state" />
                <field name="activities_total" />
                <field name="activities_new" />
            </group>
            <div attrs="{'invisible': [('import_errors', '=', '')]}">
              <h3>Errors:</h3><pre><field name="import_errors" style="overflow: x-scroll; white-space: pre;" decoration-danger="True"/></pre>
            </div>
            <div attrs="{'invisible': [('import_warnings', '=', '')]}" class="label label-warning">
              <h3>Warnings:</h3><pre><field name="import_warnings" style="overflow: x-scroll; white-space: pre;" decoration-warning="True"/></pre>
            </div>
            <div attrs="{'invisible': [('import_infos', '=', '')]}">
              <h3>Infos:</h3><pre><field name="import_infos" style="overflow: x-scroll; white-space: pre;"/></pre>
            </div>
            <div attrs="{'invisible': [('import_debug', '=', '')]}">
              <h3>Debug messages:</h3><pre><field name="import_debug" style="overflow: x-scroll; white-space: pre;"/></pre>
            </div>
          </sheet>
        </form>
      </field>
    </record>

    <!-- action for colpari.activity_value_import_run list-->
    <record model="ir.actions.act_window" id="act_import_runs_window">
      <field name="name">import runs</field>
      <field name="res_model">colpari.activity_value_import_run</field>
      <field name="view_mode">tree,kanban,form</field>
    </record>

  </data>
</odoo>